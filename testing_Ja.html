<!DOCTYPE html>
<html>
<head>
  <title>GeoJSON with Popup</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  <style>
    #map {
      height: 500px;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <script>
    // create the map
    var map = L.map('map').setView([37.8, -96], 4);

    // add the base layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
    }).addTo(map);

    // load the GeoJSON data
    fetch('https://leafletjs.com/examples/choropleth/us-states.geojson')
      .then(function(response) {
        return response.json();
      })
      .then(function(data) {
        // create a GeoJSON layer
        var geojsonLayer = L.geoJSON(data, {
          style: function(feature) {
            return {
              fillColor: 'blue',
              fillOpacity: 0.5,
              color: 'white',
              weight: 1
            };
          },
          pointToLayer: function(feature, latlng) {
            return L.circleMarker(latlng, {
              radius: 5,
              fillColor: 'blue',
              fillOpacity: 0.5,
              color: 'white',
              weight: 1
            });
          },
          onEachFeature: function(feature, layer) {
            layer.bindPopup(feature.properties.name);
            layer.on('mouseover', function() {
              this.setStyle({
                fillColor: 'red',
                fillOpacity: 0.7
              });
            });
            layer.on('mouseout', function() {
              this.setStyle({
                fillColor: 'blue',
                fillOpacity: 0.5
              });
            });
          }
        }).addTo(map);

        // fit the map to the GeoJSON layer bounds
        map.fitBounds(geojsonLayer.getBounds());
      });
  </script>
</body>
</html>
